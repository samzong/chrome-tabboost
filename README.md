# TabBoost - Chromeæ ‡ç­¾é¡µå¢å¼ºæ‰©å±•

TabBoostæ˜¯ä¸€æ¬¾æé«˜æµè§ˆå™¨æ ‡ç­¾é¡µæ•ˆç‡çš„Chromeæ‰©å±•ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—ä¾¿æ·åŠŸèƒ½ï¼Œå¦‚é“¾æ¥é¢„è§ˆã€åˆ†å±æµè§ˆã€æ ‡ç­¾é¡µå¤åˆ¶ç­‰ï¼Œå¸®åŠ©æ‚¨æ›´é«˜æ•ˆåœ°ç®¡ç†å’Œä½¿ç”¨Chromeæ ‡ç­¾é¡µï¼Œçµæ„Ÿæ¥æºäº Arc Browserã€‚

## åŠŸèƒ½ç‰¹æ€§

- **ğŸš€ é“¾æ¥é¢„è§ˆ**: æ— éœ€ç¦»å¼€å½“å‰é¡µé¢å³å¯é¢„è§ˆé“¾æ¥ã€‚æŒ‰ä½ `Command` é”® (Mac) æˆ– `Ctrl` é”® (Windows - å¯é…ç½®) ç‚¹å‡»é“¾æ¥ï¼Œå³å¯åœ¨å½“å‰é¡µé¢çš„å¼¹å‡ºçª—å£ä¸­æ‰“å¼€ã€‚
- **ğŸ“º åˆ†å±æ¨¡å¼**: åœ¨å•ä¸ªæ ‡ç­¾é¡µå†…å¹¶æ’æŸ¥çœ‹ä¸¤ä¸ªç½‘é¡µã€‚é€šè¿‡ `Shift + Command + Click` (Mac) æˆ–ç±»ä¼¼æ–¹å¼ (Windows) ç‚¹å‡»é“¾æ¥è§¦å‘ï¼Œæˆ–é€šè¿‡æ‰©å±•èœå•æ¿€æ´»ã€‚éå¸¸é€‚åˆæ¯”è¾ƒå†…å®¹æˆ–å¤šä»»åŠ¡å¤„ç†ã€‚
- **ğŸ§  æ™ºèƒ½å…¼å®¹æ€§å¤„ç†**: è‡ªåŠ¨æ£€æµ‹æ— æ³•åœ¨é¢„è§ˆæˆ–åˆ†å±ä¸­åŠ è½½çš„ç½‘ç«™ï¼ˆç”±äº `X-Frame-Options` æˆ– CSP é™åˆ¶ï¼‰ï¼Œå¹¶æä¾›åœ¨"æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€"æˆ–å°†å…¶æ·»åŠ åˆ°"å¿½ç•¥åˆ—è¡¨"çš„é€‰é¡¹ã€‚å¯åœ¨è®¾ç½®ä¸­ç®¡ç†å¿½ç•¥åˆ—è¡¨ã€‚
- **âœ¨ æ ‡ç­¾é¡µå¤åˆ¶**: ä½¿ç”¨å¿«æ·é”® (`Ctrl+M` / `MacCtrl+M`) å¿«é€Ÿå¤åˆ¶å½“å‰æ ‡ç­¾é¡µã€‚
- **ğŸ–±ï¸ URLå¤åˆ¶**: ä½¿ç”¨å¿«æ·é”® (`Alt+C` / `Shift+Command+C`) ä¸€é”®å¤åˆ¶å½“å‰é¡µé¢URLåˆ°å‰ªè´´æ¿ã€‚
- **ğŸ”§ é«˜åº¦è‡ªå®šä¹‰**:
    - é…ç½®æ‰©å±•å›¾æ ‡ç‚¹å‡»çš„é»˜è®¤æ“ä½œã€‚
    - è°ƒæ•´é¢„è§ˆå¼¹å‡ºçª—å£çš„å¤§å°ã€‚
    - å¯ç”¨/ç¦ç”¨ç‰¹å®šåŠŸèƒ½ï¼ˆå¦‚åˆ†å±ã€å¿½ç•¥åˆ—è¡¨ï¼‰ã€‚
    - åœ¨ `chrome://extensions/shortcuts` ä¸­è‡ªå®šä¹‰å¿«æ·é”®ã€‚
- **ğŸ”’ å®‰å…¨å¢å¼º**: ä¸¥æ ¼çš„å†…å®¹å®‰å…¨ç­–ç•¥(CSP)å’ŒURLéªŒè¯æœºåˆ¶ä¿éšœæ‰©å±•å®‰å…¨ã€‚

## é¡¹ç›®ç»“æ„

é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„å‰ç«¯æ„å»ºæµç¨‹ï¼Œä¸»è¦ç»“æ„å¦‚ä¸‹ï¼š

```
chrome-tabboost/
â”œâ”€â”€ dist/              # æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ scripts/           # è¾…åŠ©è„šæœ¬ (æ‰“åŒ…ã€å‘å¸ƒç­‰)
â”œâ”€â”€ src/               # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ assets/        # é™æ€èµ„æº (å›¾æ ‡ç­‰)
â”‚   â”œâ”€â”€ js/            # JavaScript æºæ–‡ä»¶ (æ ¸å¿ƒé€»è¾‘)
â”‚   â”œâ”€â”€ options/       # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ popup/         # æ‰©å±•å¼¹å‡ºçª—å£
â”‚   â”œâ”€â”€ styles/        # CSS æ ·å¼
â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/             # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ manifest.json      # æ‰©å±•æ¸…å•æ–‡ä»¶
â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®æ–‡ä»¶
â””â”€â”€ webpack.config.js  # Webpack æ„å»ºé…ç½®æ–‡ä»¶
```

- `dist/`: åŒ…å«æ‰“åŒ…åçš„æ‰©å±•æ–‡ä»¶ï¼Œç”¨äºåŠ è½½åˆ°æµè§ˆå™¨æˆ–å‘å¸ƒã€‚
- `scripts/`: åŒ…å«ç”¨äºå¼€å‘ã€æ„å»ºã€ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒçš„è¾…åŠ© Node.js è„šæœ¬ã€‚
- `src/`: åŒ…å«æ‰©å±•çš„æ‰€æœ‰æ ¸å¿ƒæºä»£ç ã€‚
- `tests/`: åŒ…å«å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚
- `manifest.json`: å®šä¹‰æ‰©å±•çš„å…ƒæ•°æ®ã€æƒé™ã€åŠŸèƒ½ç­‰ã€‚
- `package.json`: å®šä¹‰é¡¹ç›®ä¾èµ–å’Œè„šæœ¬å‘½ä»¤ã€‚
- `webpack.config.js`: é…ç½® Webpack å¦‚ä½•æ‰“åŒ…å’Œå¤„ç†é¡¹ç›®èµ„æºã€‚

## å®‰è£…æ–¹æ³•

1. ä»Chromeç½‘ä¸Šåº”ç”¨åº—å®‰è£…ï¼š[TabBoost](https://chromewebstore.google.com/detail/tabboost/pnpabkdhbbjmahfnhnfhpgfmhkkeoloe)
2. æˆ–è€…ä½¿ç”¨å¼€å‘è€…æ¨¡å¼åŠ è½½ï¼š
   - ä¸‹è½½å¹¶è§£å‹æœ¬é¡¹ç›®ä»£ç 
   - åœ¨Chromeæµè§ˆå™¨åœ°å€æ è¾“å…¥ `chrome://extensions/`
   - å¼€å¯å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"
   - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"æŒ‰é’®
   - é€‰æ‹©æœ¬é¡¹ç›®æ ¹ç›®å½•

## ä½¿ç”¨æ–¹æ³•

### ä¸»è¦åŠŸèƒ½

- **é“¾æ¥é¢„è§ˆ**: æŒ‰ä½ `Command` é”® (Mac) æˆ– `Ctrl` é”® (Windows) ç‚¹å‡»ä»»ä½•é“¾æ¥ã€‚
- **åˆ†å±æ¨¡å¼**: æŒ‰ä½ `Shift + Command` (Mac) ç‚¹å‡»ä»»ä½•é“¾æ¥ï¼Œæˆ–é€šè¿‡æ‰©å±•å¼¹å‡ºèœå•æ¿€æ´»ã€‚

### é»˜è®¤å¿«æ·é”®

- `Ctrl+M` (Mac: `MacCtrl+M`): å¤åˆ¶å½“å‰æ ‡ç­¾é¡µ
- `Alt+C` (Mac: `Shift+Command+C`): å¤åˆ¶å½“å‰ç½‘é¡µURL

*æ³¨æ„ï¼šæ‰€æœ‰å¿«æ·é”®å‡å¯åœ¨ Chrome æ‰©å±•å¿«æ·é”®è®¾ç½®é¡µé¢ (`chrome://extensions/shortcuts`) ä¸­è‡ªå®šä¹‰ã€‚*

### åˆ†å±æ¨¡å¼ä½¿ç”¨

1. åœ¨ä»»æ„ç½‘é¡µæŒ‰ä¸‹åˆ†å±æ¨¡å¼å¿«æ·é”®æˆ–é€šè¿‡æ‰©å±•å¼¹çª—å¯ç”¨åˆ†å±
2. å·¦ä¾§æ˜¾ç¤ºå½“å‰é¡µé¢ï¼Œå³ä¾§å¯ä»¥é€šè¿‡ç‚¹å‡»å·¦ä¾§é¡µé¢çš„é“¾æ¥è¿›è¡ŒåŠ è½½
3. å¯ä»¥é€šè¿‡æ‹–åŠ¨ä¸­é—´åˆ†éš”çº¿è°ƒæ•´ä¸¤ä¸ªè§†å›¾çš„å®½åº¦æ¯”ä¾‹

## å®‰å…¨æ€§

TabBoosté‡‡ç”¨ä¸¥æ ¼çš„å†…å®¹å®‰å…¨ç­–ç•¥(CSP)å’ŒURLéªŒè¯æœºåˆ¶ï¼Œç¡®ä¿æ‰©å±•å®‰å…¨å¯é ï¼š

### å†…å®¹å®‰å…¨ç­–ç•¥(CSP)

æˆ‘ä»¬åœ¨ `manifest.json` ä¸­å®šä¹‰äº†ä¸¥æ ¼çš„å®‰å…¨ç­–ç•¥ï¼š

- **`extension_pages`**:
    - `script-src 'self'`: åªå…è®¸åŠ è½½æ‰©å±•è‡ªèº«åŸŸçš„JavaScriptè„šæœ¬ã€‚
    - `object-src 'none'`: ç¦æ­¢æ‰€æœ‰æ’ä»¶å†…å®¹(å¦‚Flash)ã€‚
    - `style-src 'self' 'unsafe-inline'`: åªå…è®¸æ‰©å±•è‡ªèº«åŸŸå’Œè¡Œå†…æ ·å¼è¡¨ã€‚
    - `img-src 'self' data: https://*.google.com`: å›¾ç‰‡åªèƒ½ä»æ‰©å±•è‡ªèº«ã€data URLså’ŒGoogleæœåŠ¡åŠ è½½ã€‚
    - `connect-src 'self' https://*.google.com`: ç½‘ç»œè¿æ¥åªèƒ½åˆ°æ‰©å±•è‡ªèº«æˆ–GoogleæœåŠ¡ã€‚
    - `frame-src 'self'`: åªå…è®¸æ‰©å±•è‡ªèº«çš„iframeã€‚
    - `form-action 'none'`: ç¦æ­¢æ‰€æœ‰è¡¨å•æäº¤ã€‚
    - `base-uri 'none'`: ç¦æ­¢ä½¿ç”¨BASEæ ‡ç­¾ä¿®æ”¹åŸºå‡†URLã€‚
    - `upgrade-insecure-requests`: è‡ªåŠ¨å°†HTTPè¯·æ±‚å‡çº§ä¸ºHTTPSã€‚
- **`sandbox`**:
    - `sandbox allow-scripts allow-forms allow-popups allow-modals`: å¯ç”¨æ²™ç®±å¹¶å…è®¸ç‰¹å®šåŠŸèƒ½ã€‚
    - `script-src 'self'`: æ²™ç®±å†…è„šæœ¬æ¥æºé™åˆ¶ã€‚
    - `object-src 'none'`: æ²™ç®±å†…ç¦æ­¢æ’ä»¶ã€‚

### URLå®‰å…¨éªŒè¯ä¸æ™ºèƒ½å¤„ç†

- å†…éƒ¨å®ç°ä¸¥æ ¼çš„URLéªŒè¯æœºåˆ¶ï¼Œé˜²æ­¢XSSç­‰æ”»å‡»ã€‚
- æ™ºèƒ½æ£€æµ‹ç½‘ç«™æ˜¯å¦å…è®¸åœ¨ iframe ä¸­åŠ è½½ï¼ˆé€šè¿‡ `X-Frame-Options` æˆ– CSPï¼‰ã€‚å¯¹äºä¸å…è®¸çš„ç½‘ç«™ï¼Œæä¾›åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æˆ–æ·»åŠ åˆ°å¿½ç•¥åˆ—è¡¨çš„é€‰é¡¹ï¼Œä»¥ç¡®ä¿åŠŸèƒ½å¯ç”¨æ€§ã€‚

## å¼€å‘

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/samzong/chrome-tabboost.git
cd chrome-tabboost

# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œå¼€å‘æœåŠ¡å™¨ (å¸¦çƒ­é‡è½½)
npm run dev

# æˆ–è€…å¯åŠ¨å¼€å‘æ¨¡å¼æ„å»º
# npm run start

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# è¿è¡Œæµ‹è¯•
npm test
```

### ç‰ˆæœ¬ç®¡ç†ä¸å‘å¸ƒ

æœ¬é¡¹ç›®é‡‡ç”¨[è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚å¼€å‘æµç¨‹å»ºè®®éµå¾ª Gitflow æˆ–ç±»ä¼¼æ¨¡å‹ï¼ˆå¦‚åŠŸèƒ½åˆ†æ”¯ -> å¼€å‘ -> åˆå¹¶ï¼‰ã€‚

#### ä¸»è¦å¼€å‘å‘½ä»¤

- **å¸¸ç”¨**:
    - `npm run dev`: å¯åŠ¨ Webpack å¼€å‘æ¨¡å¼ (ç›‘å¬æ–‡ä»¶å˜åŒ–)ã€‚
    - `npm run commit`: ä½¿ç”¨ Commitizen è¿›è¡Œè§„èŒƒåŒ–æäº¤ã€‚
- **æ„å»ºä¸æµ‹è¯•**:
    - `npm run build`: æ‰§è¡Œç”Ÿäº§ç¯å¢ƒæ„å»ºï¼Œè¾“å‡ºåˆ° `dist/` ç›®å½•ã€‚
    - `npm test`: è¿è¡Œ Jest æµ‹è¯•å¥—ä»¶ã€‚
    - `npm run test:watch`: åœ¨ç›‘å¬æ¨¡å¼ä¸‹è¿è¡Œæµ‹è¯•ã€‚
    - `npm run test:coverage`: è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šã€‚
- **ç‰ˆæœ¬ä¸å‘å¸ƒ**:
    - `npm run version:[patch|minor|major]`: è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬å·ã€ç”Ÿæˆ `CHANGELOG.md` å¹¶åˆ›å»º git tagã€‚
    - `npm run changelog`: æ‰‹åŠ¨ç”Ÿæˆ `CHANGELOG.md`ã€‚
    - `npm run release`: æ‰§è¡ŒéªŒè¯ã€æ„å»ºå¹¶æ‰“åŒ…æ‰©å±•ï¼ˆç”Ÿæˆ `.zip` æ–‡ä»¶åˆ° `builds/` ç›®å½•ï¼‰ã€‚
    - `npm run publish`: ï¼ˆéœ€è¦é…ç½®ï¼‰å‘å¸ƒåˆ° Chrome Web Storeã€‚

#### å‘å¸ƒæµç¨‹ (ç¤ºä¾‹)

```bash
# 1. ç¡®ä¿åœ¨ä¸»åˆ†æ”¯ä¸”ä»£ç æœ€æ–°
git checkout main
git pull origin main

# 2. æ›´æ–°ç‰ˆæœ¬å· (ä¾‹å¦‚ï¼šæ›´æ–°æ¬¡ç‰ˆæœ¬)
npm run version:minor

# 3. æ¨é€æ›´æ”¹å’Œæ ‡ç­¾
git push origin main --tags

# 4. æ„å»ºå¹¶æ‰“åŒ…
npm run release

# 5. (æ‰‹åŠ¨æˆ–è‡ªåŠ¨) ä¸Šä¼  builds/ ç›®å½•ä¸‹çš„ .zip æ–‡ä»¶åˆ° Chrome Web Store
# npm run publish # å¦‚æœå·²é…ç½®è‡ªåŠ¨åŒ–å‘å¸ƒ
```

### æ–‡ä»¶è¯´æ˜

- `manifest.json`: æ‰©å±•çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ã€‚
- `package.json`: Node.js é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ä¾èµ–å’Œè„šæœ¬ã€‚
- `webpack.config.js`: Webpack æ„å»ºé…ç½®ã€‚
- `scripts/`: åŒ…å«å„ç§è¾…åŠ©è„šæœ¬ï¼ˆç‰ˆæœ¬ç®¡ç†ã€æ‰“åŒ…ã€å‘å¸ƒç­‰ï¼‰ã€‚
- `src/js/background.js`: æ‰©å±•çš„åå° Service Workerã€‚
- `src/js/contentScript.js`: æ³¨å…¥åˆ°ç½‘é¡µä¸­ä»¥å®ç°æ ¸å¿ƒåŠŸèƒ½çš„è„šæœ¬ã€‚
- `src/popup/`: æ‰©å±•å¼¹å‡ºçª—å£çš„ HTML, CSS, JS æ–‡ä»¶ã€‚
- `src/options/`: æ‰©å±•è®¾ç½®é¡µé¢çš„ HTML, CSS, JS æ–‡ä»¶ã€‚
- `src/utils/`: åŒ…å«å…±äº«çš„å·¥å…·å‡½æ•°æ¨¡å—ï¼Œå¦‚ï¼š
    - `i18n.js`: å¤„ç†å›½é™…åŒ–ã€‚
    - `iframe-compatibility.js`: å¤„ç† iframe åŠ è½½å…¼å®¹æ€§ã€‚
    - `storage-cache.js`: å°è£… Chrome Storage APIã€‚
    - `utils.js`: å…¶ä»–é€šç”¨å·¥å…·å‡½æ•°ã€‚

## è´¡çŒ®æŒ‡å—

æ¬¢è¿å¯¹æœ¬é¡¹ç›®æå‡ºæ”¹è¿›å»ºè®®æˆ–è´¡çŒ®ä»£ç ã€‚è¯·é€šè¿‡ä»¥ä¸‹æ­¥éª¤å‚ä¸ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„ä¿®æ”¹ (`npm run commit` ä½¿ç”¨è§„èŒƒåŒ–æäº¤)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶
