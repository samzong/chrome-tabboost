## 优化计划 (TODO)

作为项目的持续改进计划，以下是一系列优化建议，将逐步实施：

### 代码结构与模块化

- [ ] 重构重复代码，将共享功能统一到 utils.js 中
- [x] 采用 ES 模块标准化导入/导出方式
- [ ] 引入构建工具（如 webpack/vite）优化产物大小和加载性能
- [x] 实现更严格的目录结构，将 CSS 移到单独的样式目录
- [ ] 考虑使用 TypeScript 增强类型安全

### 性能优化

- [ ] 减少 DOM 操作，优化弹窗创建过程
- [ ] 使用防抖/节流优化事件处理器
- [ ] 优化 CSS 选择器，减少重排/重绘
- [ ] 实现资源懒加载策略
- [ ] 审查并移除开发调试用的 console.log

### 错误处理与健壮性

- [ ] 实现完整的错误边界处理
- [ ] 增强跨域处理策略，优化 iframe 加载失败体验
- [ ] 添加全局错误捕获机制
- [ ] 改进网络请求的超时和重试机制
- [ ] 实现更友好的错误提示界面

### 用户体验改进

- [ ] 添加国际化支持（i18n）
- [ ] 优化键盘导航体验
- [ ] 优化暗黑模式支持
- [x] 完善"Split View Mode"（分屏模式）功能
- [ ] 增加用户自定义主题选项

### 测试与质量保证

- [ ] 添加单元测试框架（Jest/Mocha）
- [ ] 实现端到端测试（Cypress/Playwright）
- [ ] 编写集成测试验证核心功能
- [ ] 设置 CI/CD 流程自动化测试与部署
- [x] 添加代码质量工具（ESLint/Prettier）

### 安全性增强

- [ ] 审查权限使用，遵循最小权限原则
- [ ] 加强数据处理的安全性
- [ ] 实现 CSP (Content Security Policy) 规则
- [ ] 优化隐私保护措施

### 文档完善

- [ ] 编写详细的 API 文档
- [ ] 完善代码注释，使用标准的 JSDoc 格式
- [ ] 制作功能演示视频/GIF
- [ ] 添加常见问题解答（FAQ）部分
- [ ] 创建贡献指南，方便社区参与
